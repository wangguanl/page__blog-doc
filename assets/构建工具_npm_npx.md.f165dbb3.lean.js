import{_ as p,v as e,b as n,R as a}from"./chunks/framework.4f207390.js";const _=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"构建工具/npm/npx.md","filePath":"构建工具/npm/npx.md","lastUpdated":1666751387000}'),t={name:"构建工具/npm/npx.md"},s=a('<p>npx 是 npm 提供的命令</p><h2 id="主要用途" tabindex="-1">主要用途 <a class="header-anchor" href="#主要用途" aria-label="Permalink to &quot;主要用途&quot;">​</a></h2><ol><li>临时安装软件包，执行后删除</li><li>执行本地安装的软件包</li></ol><p>一、简介</p><p>npm从5.25.2版开始，增加了 npx 命令。方便了我在项目中使用全局包。</p><p>二、安装</p><p>Node安装后自带npm模块，可以直接使用npx命令。如果不能使用用，就要手动安装一下。</p><p>npm install -g npx</p><p>三、使用</p><p>npx想要解决的主要问题，就是调用项目内部安装的模块。比如，项目内部安装了测试工具webpack。</p><p>npm install webpack -D</p><p>如果我们使用webpack，只能在项目脚本的 package.json 中的scripts字段里面， 如果想在命令行下调用，必须像下面这样。</p><p>node-modules/.bin/webpack -v</p><p>npx 可以让项目内部安装的模块用起来更方便，只要像下面这样调用就行了。</p><p>npx webpack -v</p><p>npx 的原理很简单，就是运行的时候，会到node_modules/.bin路径和环境变量$PATH里面，检查命令是否存在。</p><p>由于 npx 会检查环境变量$PATH，所以系统命令也可以调用。</p><p>npx ls // 等同于ls命令</p><p>另外,使用npx可以避免全局安装模块，比如，create-react-app这个模块是全局安装，npx 可以运行它，而且不进行全局安装。</p><p>npx create-react-app my-react-app</p><p>上面代码运行时，npx 将create-react-app下载到一个临时目录，使用以后再删除。所以，以后再次执行上面的命令，会重新下载create-react-app。</p><p>下载全局模块时，npx 允许指定版本。</p><p>npx webpack@4.44.1 ./src/index.js -o ./dist/main.js</p><p>上面代码指定使用 4.44.1 版本的webpack进行打包操作。</p><p>注意，只要 npx 后面的模块无法在本地发现，就会下载同名模块。比如，本地没有安装webpack-dev-server模块，下面的命令会自动下载该模块，在当前目录启动一个 Webpack dev 服务。</p><p>npx webpack-dev-server</p><p>如果想让 npx 强制使用本地模块，不下载远程模块，可以使用--no-install参数。如果本地不存在该模块，就会报错。</p><p>npx --no-install webpack-dev-server</p><p>反过来，如果忽略本地的同名模块，强制安装使用远程模块，可以使用--ignore-existing参数。比如，本地已经全局安装了create-react-app，但还是想使用远程模块，就用这个参数。</p><p>npx --ignore-existing create-react-app my-react-app</p><p>利用 npx 指定某个版本的 Node 运行脚本。</p><p>npx node@14.10.0 -v</p><p>上面命令会使用 14.10.0 版本的 Node 执行脚本。原理是从 npm 下载这个版本的 node，使用后再删掉。</p><p>某些场景下，这个方法用来切换 Node 版本，要比 nvm 那样的版本管理器方便一些。</p>',34),r=[s];function c(o,i,x,d,l,m){return e(),n("div",null,r)}const v=p(t,[["render",c]]);export{_ as __pageData,v as default};
